<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RBWare Docs Platform</title>
    <script>
      // 환경에 따라 base path 동적 설정
      const isGitHubPages = window.location.hostname.includes('github.io');
      if (isGitHubPages) {
        document.write('<base href="/docs-platform/">');
      }

      // Handle 404 redirect from GitHub Pages
      (function() {
        const params = new URLSearchParams(window.location.search);
        const redirectPath = params.get('p');
        if (redirectPath) {
          const basePath = isGitHubPages ? '/docs-platform' : '';
          window.history.replaceState(null, '', basePath + redirectPath);
        }
      })();
    </script>

    <!-- TailwindCSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./css/theme.css" />

    <meta name="description" content="RBWare Documentation Platform" />
    <meta name="theme-color" content="#071B3C" />
  </head>

  <body class="bg-rb-bg text-rb-text pt-16">
    <!-- Global Header (Fixed) -->
    <div id="header"></div>

    <!-- Main Layout: Simple flex layout -->
    <div class="flex min-h-screen">
      <!-- Sidebar: Fixed position, scrollable -->
      <aside
        id="sidebar"
        class="fixed top-16 left-0 h-[calc(100vh-4rem)] w-56 md:w-64
               bg-white border-r border-gray-200 overflow-y-auto z-40
               transition-transform duration-200 ease-in-out
               -translate-x-full md:translate-x-0"
      >
        <nav id="sidebarMenu" class="p-6 space-y-2 text-gray-700 text-sm"></nav>
      </aside>

      <!-- Content: Natural page flow, no scroll container -->
      <main id="contentArea" class="flex-1 md:ml-64">
        <article id="docContent"></article>
      </main>
    </div>

    <!-- Main JS (imports header.js + sidebar.js internally) -->
    <script type="module" src="./js/app.js"></script>
  </body>
</html>
